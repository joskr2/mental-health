# ============================================
# PERFIL: TEST
# ============================================

# === Flyway - Deshabilitado para tests unitarios ===
spring.flyway.enabled=false

# === Spring AI - Mock key para evitar errores de inicialización ===
spring.ai.openai.api-key=sk-dummy-key-para-tests
spring.ai.openai.base-url=https://api.deepseek.com
spring.ai.openai.chat.options.model=deepseek-chat

# === Base de datos H2 para tests (rápida y limpia) ===
spring.r2dbc.url=r2dbc:h2:mem:///test-db;DB_CLOSE_DELAY=-1;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE
spring.r2dbc.username=sa
spring.r2dbc.password=
spring.sql.init.mode=always

# === JWT - Claves de prueba ===
jwt.access-secret=test-access-secret-key-minimum-32-characters!
jwt.refresh-secret=test-refresh-secret-key-minimum-32-characters
jwt.access-expiration=PT30M
jwt.refresh-expiration=P14D

# === Logging - Mínimo para tests ===
logging.level.root=WARN
logging.level.com.clinica.mentalhealth=INFO

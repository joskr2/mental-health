# ============================================
# CONFIGURACION BASE - Mental Health Clinic API
# ============================================
# Este archivo contiene la configuración compartida.
# Los perfiles específicos (dev, prod) sobrescriben
# estas propiedades según el entorno.
#
# Perfiles disponibles:
#   - dev:  PostgreSQL + logs debug + Swagger
#   - prod: PostgreSQL + logs mínimos + optimizado
#
# Activar perfil: SPRING_PROFILES_ACTIVE=dev
# ============================================

# === Información de la Aplicación ===
spring.application.name=mental-clinic-api

# === Perfil por defecto ===
spring.profiles.active=${SPRING_PROFILES_ACTIVE:dev}

# === Cache - Caffeine ===
spring.cache.type=caffeine
spring.cache.caffeine.spec=maximumSize=500,expireAfterWrite=30m

# === OpenAPI/Swagger - Configuración base ===
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha

# === Actuator - Configuración base ===
management.endpoint.caches.access=unrestricted

# === Servidor ===
server.port=${APP_PORT:8080}

# === IA (DeepSeek via OpenAI Driver) ===
spring.ai.openai.api-key=${DEEPSEEK_API_KEY:}
spring.ai.openai.base-url=https://api.deepseek.com
spring.ai.openai.chat.options.model=deepseek-chat
spring.ai.openai.chat.options.temperature=0.3
spring.ai.openai.chat.options.max-tokens=2000

# === Seguridad de Refresh Tokens ===
# Número máximo de sesiones activas por usuario (0 = sin límite)
security.refresh-token.max-sessions=5


# ============================================
# PERFIL: DESARROLLO (dev)
# ============================================
# Activar con: SPRING_PROFILES_ACTIVE=dev
# O en docker-compose: profiles: [dev]
# ============================================

# === Base de Datos - PostgreSQL (Docker) ===
spring.r2dbc.url=${SPRING_R2DBC_URL:r2dbc:postgresql://localhost:5432/mental_clinic}
spring.r2dbc.username=${SPRING_R2DBC_USERNAME:clinic_user}
spring.r2dbc.password=${SPRING_R2DBC_PASSWORD:clinic_secret_2024}

# Inicialización de esquema
spring.sql.init.mode=always
spring.sql.init.platform=postgresql

# === Logging - Detallado para debugging ===
logging.level.root=INFO
logging.level.com.clinica.mentalhealth=DEBUG
logging.level.org.springframework.r2dbc=DEBUG
logging.level.org.springframework.data.r2dbc=DEBUG
logging.level.io.r2dbc.postgresql=DEBUG
# ADVERTENCIA: DEBUG en security puede loguear tokens/headers sensibles
# Solo usar en desarrollo local, NUNCA en producción
logging.level.org.springframework.security=DEBUG

# === OpenAPI/Swagger - Habilitado ===
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# === Actuator - Endpoints expuestos para debugging ===
management.endpoints.web.exposure.include=health,info,metrics,caches,env,beans,mappings
management.endpoint.health.show-details=always

# === Servidor ===
server.error.include-message=always
server.error.include-stacktrace=always
server.error.include-binding-errors=always
